<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE properties SYSTEM "http://java.sun.com/dtd/properties.dtd">
<properties>
	
	<entry key="selectMemberNoticeAllList">
		SELECT
		       NOTICE_NO
		     , NOTICE_TITLE
		     , NOTICE_CONTENT
		     , USER_NICKNAME "NOTICE_WRITER"
		     , TO_CHAR(NOTICE_CREATE_DATE, 'YYYY.MM.DD') "NOTICE_CREATE_DATE"
		     , NOTICE_TYPE
		     , NOTICE_STATUS
		     , NOTICE_RECEIVER_NO
		     , NOTICE_ANNOUNCEMENT_NO
		     , NULL AS "NOTICE_PROJECT_NO"
		     , NULL AS "NOTICE_QNA_NO"
		     , NULL AS NOTICE_IMG
		  FROM TB_NOTICE
		  JOIN TB_MEMBER ON (USER_NO = NOTICE_WRITER)
		  JOIN TB_ANNOUNCEMENT ON (NOTICE_ANNOUNCEMENT_NO = ANNOUNCEMENT_NO)
		 WHERE ANNOUNCEMENT_STATUS = 'Y'
		   AND NOTICE_TYPE = 1
		
		UNION
		
		SELECT
		       NOTICE_NO
		     , NOTICE_TITLE
		     , NOTICE_CONTENT
		     , USER_NICKNAME "NOTICE_WRITER"
		     , TO_CHAR(NOTICE_CREATE_DATE, 'YYYY.MM.DD') "NOTICE_CREATE_DATE"
		     , NOTICE_TYPE
		     , NOTICE_STATUS
		     , NOTICE_RECEIVER_NO
		     , NULL AS "NOTICE_ANNOUNCEMENT_NO"
		     , NOTICE_PROJECT_NO
		     , NULL AS "NOTICE_QNA_NO"
		     , ATTACHMENT_PATH || ATTACHMENT_UPDATE_NAME "NOTICE_IMG"
		  FROM TB_NOTICE
		  JOIN TB_MEMBER ON (USER_NO = NOTICE_WRITER)
		  JOIN TB_ATTACHMENT ON (NOTICE_PROJECT_NO = ATTACHMENT_PROJECT_NO)
		 WHERE NOTICE_TYPE = 2
		   AND NOTICE_RECEIVER_NO = ?
		   AND ATTACHMENT_LEVEL = 1
		   
		 UNION 
		   
		SELECT DISTINCT
		       NOTICE_NO
		     , NOTICE_TITLE
		     , NOTICE_CONTENT
		     , USER_NICKNAME "NOTICE_WRITER"
		     , TO_CHAR(NOTICE_CREATE_DATE, 'YYYY.MM.DD') "NOTICE_CREATE_DATE"
		     , NOTICE_TYPE
		     , NOTICE_STATUS
		     , NOTICE_RECEIVER_NO
		     , NULL AS "NOTICE_ANNOUNCEMENT_NO"
		     , NULL AS "NOTICE_PROJECT_NO"
		     , NOTICE_QNA_NO
		     , NULL AS NOTICE_IMG
		  FROM TB_NOTICE
		  JOIN TB_MEMBER ON (USER_NO = NOTICE_WRITER)
          JOIN TB_QNA ON (QNA_WRITER = NOTICE_RECEIVER_NO)
         WHERE QNA_STATUS = 'Y'
		   AND NOTICE_TYPE = 3
		   AND NOTICE_RECEIVER_NO = ?
		   
		 ORDER
		    BY NOTICE_NO DESC
	</entry>
	
	<entry key="selectMemberNoticeAnnouncementList">
		SELECT
		       NOTICE_NO
		     , NOTICE_TITLE
		     , NOTICE_CONTENT
		     , USER_NICKNAME "NOTICE_WRITER"
		     , TO_CHAR(NOTICE_CREATE_DATE, 'YYYY.MM.DD') "NOTICE_CREATE_DATE"
		     , NOTICE_TYPE
		     , NOTICE_STATUS
		     , NOTICE_RECEIVER_NO
		     , NOTICE_ANNOUNCEMENT_NO
		  FROM TB_NOTICE
		  JOIN TB_MEMBER ON (USER_NO = NOTICE_WRITER)
		  JOIN TB_ANNOUNCEMENT ON (NOTICE_ANNOUNCEMENT_NO = ANNOUNCEMENT_NO)
         WHERE ANNOUNCEMENT_STATUS = 'Y'
		   AND NOTICE_TYPE = ?
		 ORDER
		    BY NOTICE_NO DESC
	</entry>
	
	<entry key="selectMemberNoticeProjectList">
		SELECT
		       NOTICE_NO
		     , NOTICE_TITLE
		     , NOTICE_CONTENT
		     , USER_NICKNAME "NOTICE_WRITER"
		     , TO_CHAR(NOTICE_CREATE_DATE, 'YYYY.MM.DD') "NOTICE_CREATE_DATE"
		     , NOTICE_TYPE
		     , NOTICE_STATUS
		     , NOTICE_RECEIVER_NO
		     , NOTICE_PROJECT_NO
             , ATTACHMENT_PATH || ATTACHMENT_UPDATE_NAME "NOTICE_IMG"
		  FROM TB_NOTICE
		  JOIN TB_MEMBER ON (USER_NO = NOTICE_WRITER)
          JOIN TB_ATTACHMENT ON (NOTICE_PROJECT_NO = ATTACHMENT_PROJECT_NO)
		 WHERE NOTICE_TYPE = ?
		   AND NOTICE_RECEIVER_NO = ?
		   AND ATTACHMENT_LEVEL = 1
		 ORDER
		    BY NOTICE_NO DESC
	</entry>
	
	<entry key="selectMemberNoticeQNAList">
		SELECT DISTINCT
		       NOTICE_NO
		     , NOTICE_TITLE
		     , NOTICE_CONTENT
		     , USER_NICKNAME "NOTICE_WRITER"
		     , TO_CHAR(NOTICE_CREATE_DATE, 'YYYY.MM.DD') "NOTICE_CREATE_DATE"
		     , NOTICE_TYPE
		     , NOTICE_STATUS
		     , NOTICE_RECEIVER_NO
		     , NOTICE_QNA_NO
		  FROM TB_NOTICE
		  JOIN TB_MEMBER ON (USER_NO = NOTICE_WRITER)
          JOIN TB_QNA ON (QNA_WRITER = NOTICE_RECEIVER_NO)
         WHERE QNA_STATUS = 'Y'
		   AND NOTICE_TYPE = ?
		   AND NOTICE_RECEIVER_NO = ?
		 ORDER
		    BY NOTICE_NO DESC
	</entry>
	
</properties>